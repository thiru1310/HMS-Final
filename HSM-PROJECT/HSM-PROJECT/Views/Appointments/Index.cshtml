@model IEnumerable<HSM_PROJECT.Models.tblAppointment>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 style="text-align:center">APPOINTMENT DETAILS</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div class="input-group">
    @Html.Label("Search:")
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder=" Enter Your Search Value" />
    <i class="fa fa-search"></i>
</div>
<div id="table-scroll">
    <div id="table-wrapper">

        <table class="table table-striped table-condensed" id="myTable">
            <thead>

                <tr id="tableRows">
                    <th>
                        @Html.DisplayNameFor(model => model.AppointmentId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Symptoms)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.StartTime)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.EndTime)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.tblDiseaseCategory.CategoryName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.tblDoctor.DoctorName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.tblPatient.FirstName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Action)

                    </th>
                </tr>
            </thead>

            <tbody id="DataSearching">
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.AppointmentId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Symptoms)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StartTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.EndTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tblDiseaseCategory.CategoryName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tblDoctor.DoctorName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tblPatient.FirstName)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.AppointmentId }, new { @class= "myclass", @style = "Color:DodgerBlue" })
                            @Html.ActionLink("Details", "Details", new { id = item.AppointmentId }, new { @class = "myclass", @style ="color:MediumSeaGreen" })
                            @Html.ActionLink("Delete", "Delete", new { id = item.AppointmentId }, new { @class = "myclass", @style = "Color:Tomato" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    function myFunction() {
        var input = document.getElementById("myInput");
        var filter = input.value.toUpperCase();
        var table = document.getElementById("myTable");
        var trs = table.tBodies[0].getElementsByTagName("tr");
        for (var i = 0; i < trs.length; i++) {
            var tds = trs[i].getElementsByTagName("td");
            trs[i].style.display = "none";
            for (var i2 = 0; i2 < tds.length; i2++) {
                if (tds[i2].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    trs[i].style.display = "";
                    continue;
                }
            }
        }



    }
</script>
<link href="//cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" />
@section Scripts{

    @Scripts.Render("~/bundles/jqueryval")
    <script src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script>

        $(document).ready(function () {
            $('#myTable').DataTable(
                {
                    "searching": false,

                });
        });
    </script>
}


<style>
    #tableRows {
        background-color: aqua;
    }

    body {
        background-color: aliceblue;
        background-repeat: no-repeat;
        background-size: cover;
        margin: 0;
    }


    #table-wrapper {
        position: relative;
    }

    #table-scroll {
        height: 500px;
        overflow: auto;
    }

    #table-wrapper table {
        width: 100%;
    }

        #table-wrapper table * {
            color: black;
        }

        #table-wrapper table thead th .text {
            position: absolute;
            top: -20px;
            z-index: 2;
            height: max-content;
            width: 35%;
        }
</style>

<script src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>


